<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Fetch CRUD Operation</title>
    </head>

    <body>
        <div id="myform">
            Title<input type="text" id="title_text"> <br>
            Body<input type="text" id="body_text"> <br>
            User Id<input type="text" id="user_id"> <br>
            <input type="submit" id="save_form">
        </div>


        <script>
            // ++++++++++++++++++++++ example 4 +++++++++++++++++++++++++++
            // insert form data on server through object.
            // document.getElementById("save_form").addEventListener("click", function (ev) {
            //     ev.preventDefault()

            //     let myObj = {
            //         title: document.getElementById("title_text").value,
            //         body: document.getElementById("body_text").value,
            //         userId: document.getElementById("user_id").value,
            //     }

            //     fetch("https://jsonplaceholder.typicode.com/posts", {
            //         method: "POST",
            //         body: JSON.stringify(myObj),
            //         headers: {
            //             "Content-type": "application/json; charset=UTF-8",
            //         },
            //     })
            //         .then((response) => response.json())
            //         .then((json) => console.log(json));

            // });

            // ++++++++++++++++++++++ example 4 +++++++++++++++++++++++++++
            // insert data on server through form method.
            // it is the new and easy method.
            document.getElementById("save_form").addEventListener("click", function (ev) {
                ev.preventDefault()

                fetch("https://jsonplaceholder.typicode.com/posts", {
                    method: "POST",
                    body: new FormData(document.getElementById("myform")),
                    headers: {
                        "Content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                    },
                })
                    .then((response) => response.json())
                    .then((json) => console.log(json));

            });
        </script>
    </body>

</html>